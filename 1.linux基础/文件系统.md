# 文件系统


一、简介
---
* 操作系统是处理二进制数据，二进制数据存储在硬盘上，人类并不能直接看懂二进制，就需要一个翻译器，就是文件系统。
* 文件系统的目的就是实现数据的查询和存储
* Linux 有多种文件系统，不同的文件系统支持不同的体系，不同的存储设备需要不同的文件系统去管理


二、Linux文件系统
---
Linux 下的文件系统主要有 ext2、 ext3、 ext4 等文件系统。
Linux 还支持其他的 UNIX 文件系统，比如 XFS、 JFS、 UFS 等，也支持 Windows 的 FAT 文件系统和网络文件系统 NFS 等。

### 1.ext2

ext2 是 Linux 早期的文件系统，但是随着技术的发展 ext2 文件系统已经不推荐使用了， ext2是一个非日志文件系统,大多数的 Linux 发行版都不支持 ext2 文件系统了。

### 2.ext3

ext3 是一个日志文件系统， ext3 支持大文件
特点：高可靠性、高数据完整性、高速度、数据转换快

### 3.ext4

ext4 文件系统是在 ext3 上发展起来的， ext4 相比与 ext3 提供了更佳的性能和可靠性，并且功能更丰富


使用`df -T – h`查看当前使用什么文件系统

三、根目录下重要文件夹
---
* /bin 存储一些二进制可执行命令文件， /usr/bin 也存放了一些基于用户的命令文件。
* /sbin 存储了很多系统命令， /usr/sbin 也存储了许多系统命令。
* /root 超级用户 root 的根目录文件。
* /home 普通用户默认目录，在该目录下，每个用户都有一个以本用户名命名的文件夹。
* /boot 存放 Ubuntu 系统内核和系统启动文件。
* /mnt 通常包括系统引导后被挂载的文件系统的挂载点。
* /dev 存放设备文件，我们后面学习 Linux 驱动主要是跟这个文件夹打交道的。
* /etc 保存系统管理所需的配置文件和目录。
* /lib 保存系统程序运行所需的库文件， /usr/lib 下存放了一些用于普通用户的库文件。
* /lost+found 一般为空，当系统非正常关机以后，此文件夹会保存一些零散文件。
* /var 存储一些不断变化的文件，比如日志文件
* /usr 包括与系统用户直接有关的文件和目录，比如应用程序和所需的库文件。
* /media 存放 Ubuntu 系统自动挂载的设备文件。
* /proc 虚拟目录，不实际存储在磁盘上，通常用来保存系统信息和进程信息。
* /tmp 存储系统和用户的临时文件，该文件夹对所有的用户都提供读写权限。
* /opt 可选文件和程序的存放目录。
* /sys 系统设备和文件层次结构，并向用户程序提供详细的内核数据信息。


四、文件类型
---
* `-` 普通文件，一些应用程序创建的，比如文档、图片、音乐等等。
* d 目录文件。
* c 字符设备文件， Linux 驱动里面的字符设备驱动，比如串口设备，音频设备等。
* b 块设备文件，存储设备驱动，比如硬盘， U 盘等。
* l 符号连接文件，相当于 Windwos 下的快捷方式。
* s 套接字文件。
* p 管道文件，主要指 FIFO 文件。



## 五、通过源码安装软件

### 1.用于第三方程序的目录

* /usr/local/bin，/usr/local/sbin    存放二进制文件

* /usr/local/lib     存放库文件
* /usr/local/etc    存放配置文件
* /usr/local/man  存放帮助文档

### 2.编译安装

1. 下载好压缩包，解压

2. 执行configure文件，此文件有两个功能：让用户选定编译特性、检查编译环境。执行后将生成MakeFile文件

3. 执行`make`编译，然后`make install`安装

4. 修改环境变量:`/etc/.profile`或者`~/.profile`中添加`export PATH=/usr/local/lib/xxxx/bin:$PATH`

5. 执行`source /etc/profile` 使配置生效

6. 如果程序需要库文件,在`/etc/ld.so.conf.d/`中创建以.conf为后缀名的文件，而后把要增添的路径直接写至此文件中；然后执行如下命令使其生效`ldconfig`

7. 通常提供库文件，也提供头文件，一般在安装目录的include目录下，系统默认扫描头文件的路径是：/usr/include。我们可以在/usr/include下用链接连接到我们安装程序的头文件。`sudo ln -s 源文件 目标文件(/usr/include)`

   